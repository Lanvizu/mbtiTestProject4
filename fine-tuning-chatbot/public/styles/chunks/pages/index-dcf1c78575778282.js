(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6616)}])},8872:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return L}});let o=n(8754),l=n(1757),u=l._(n(7294)),d=n(3935),f=o._(n(2636)),m=n(5471),g=n(3735),h=n(3341);n(4210);let v=n(9955),y=o._(n(7746)),E={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1};function S(e,r,n,o,l,u){let d=null==e?void 0:e.src;if(!e||e["data-loaded-src"]===d)return;e["data-loaded-src"]=d;let f="decode"in e?e.decode():Promise.resolve();f.catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("blur"===r&&l(!0),null==n?void 0:n.current){let r=new Event("load");Object.defineProperty(r,"target",{writable:!1,value:e});let o=!1,l=!1;n.current({...r,nativeEvent:r,currentTarget:e,target:e,isDefaultPrevented:()=>o,isPropagationStopped:()=>l,persist:()=>{},preventDefault:()=>{o=!0,r.preventDefault()},stopPropagation:()=>{l=!0,r.stopPropagation()}})}(null==o?void 0:o.current)&&o.current(e)}})}function N(e){let[r,n]=u.version.split("."),o=parseInt(r,10),l=parseInt(n,10);return o>18||18===o&&l>=3?{fetchPriority:e}:{fetchpriority:e}}let j=(0,u.forwardRef)((e,r)=>{let{src:n,srcSet:o,sizes:l,height:d,width:f,decoding:m,className:g,style:h,fetchPriority:v,placeholder:y,loading:E,unoptimized:j,fill:P,onLoadRef:L,onLoadingCompleteRef:C,setBlurComplete:z,setShowAltText:I,onLoad:A,onError:O,...B}=e;return u.default.createElement("img",{...B,...N(v),loading:E,width:f,height:d,decoding:m,"data-nimg":P?"fill":"1",className:g,style:h,sizes:l,srcSet:o,src:n,ref:(0,u.useCallback)(e=>{r&&("function"==typeof r?r(e):"object"==typeof r&&(r.current=e)),e&&(O&&(e.src=e.src),e.complete&&S(e,y,L,C,z,j))},[n,y,L,C,z,O,j,r]),onLoad:e=>{let r=e.currentTarget;S(r,y,L,C,z,j)},onError:e=>{I(!0),"blur"===y&&z(!0),O&&O(e)}})});function P(e){let{isAppRouter:r,imgAttributes:n}=e,o={as:"image",imageSrcSet:n.srcSet,imageSizes:n.sizes,crossOrigin:n.crossOrigin,referrerPolicy:n.referrerPolicy,...N(n.fetchPriority)};return r?((0,d.preload)(n.src,o),null):u.default.createElement(f.default,null,u.default.createElement("link",{key:"__nimg-"+n.src+n.srcSet+n.sizes,rel:"preload",href:n.srcSet?void 0:n.src,...o}))}let L=(0,u.forwardRef)((e,r)=>{let n=(0,u.useContext)(v.RouterContext),o=!n,l=(0,u.useContext)(h.ImageConfigContext),d=(0,u.useMemo)(()=>{let e=E||l||g.imageConfigDefault,r=[...e.deviceSizes,...e.imageSizes].sort((e,r)=>e-r),n=e.deviceSizes.sort((e,r)=>e-r);return{...e,allSizes:r,deviceSizes:n}},[l]),{onLoad:f,onLoadingComplete:S}=e,N=(0,u.useRef)(f);(0,u.useEffect)(()=>{N.current=f},[f]);let L=(0,u.useRef)(S);(0,u.useEffect)(()=>{L.current=S},[S]);let[C,z]=(0,u.useState)(!1),[I,A]=(0,u.useState)(!1),{props:O,meta:B}=(0,m.getImgProps)(e,{defaultLoader:y.default,imgConf:d,blurComplete:C,showAltText:I});return u.default.createElement(u.default.Fragment,null,u.default.createElement(j,{...O,unoptimized:B.unoptimized,placeholder:B.placeholder,fill:B.fill,onLoadRef:N,onLoadingCompleteRef:L,setBlurComplete:z,setShowAltText:A,ref:r}),B.priority?u.default.createElement(P,{isAppRouter:o,imgAttributes:O}):null)});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),e.exports=r.default)},5471:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return v}}),n(4210);let o=n(7757),l=n(3735);function u(e){return void 0!==e.default}function d(e){return void 0!==e.src}function f(e){return"object"==typeof e&&(u(e)||d(e))}function m(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function g(e,r,n){let{deviceSizes:o,allSizes:l}=e;if(n){let e=/(^|\s)(1?\d?\d)vw/g,r=[];for(let o;o=e.exec(n);o)r.push(parseInt(o[2]));if(r.length){let e=.01*Math.min(...r);return{widths:l.filter(r=>r>=o[0]*e),kind:"w"}}return{widths:l,kind:"w"}}if("number"!=typeof r)return{widths:o,kind:"w"};let u=[...new Set([r,2*r].map(e=>l.find(r=>r>=e)||l[l.length-1]))];return{widths:u,kind:"x"}}function h(e){let{config:r,src:n,unoptimized:o,width:l,quality:u,sizes:d,loader:f}=e;if(o)return{src:n,srcSet:void 0,sizes:void 0};let{widths:m,kind:h}=g(r,l,d),v=m.length-1;return{sizes:d||"w"!==h?d:"100vw",srcSet:m.map((e,o)=>f({config:r,src:n,quality:u,width:e})+" "+("w"===h?e:o+1)+h).join(", "),src:f({config:r,src:n,quality:u,width:m[v]})}}function v(e,r){let n,d,g,{src:v,sizes:y,unoptimized:E=!1,priority:S=!1,loading:N,className:j,quality:P,width:L,height:C,fill:z=!1,style:I,onLoad:A,onLoadingComplete:O,placeholder:B="empty",blurDataURL:M,fetchPriority:T,layout:k,objectFit:F,objectPosition:R,lazyBoundary:U,lazyRoot:J,...W}=e,{imgConf:D,showAltText:H,blurComplete:X,defaultLoader:G}=r,V=D||l.imageConfigDefault;if("allSizes"in V)n=V;else{let e=[...V.deviceSizes,...V.imageSizes].sort((e,r)=>e-r),r=V.deviceSizes.sort((e,r)=>e-r);n={...V,allSizes:e,deviceSizes:r}}let q=W.loader||G;delete W.loader,delete W.srcSet;let Q="__next_img_default"in q;if(Q){if("custom"===n.loader)throw Error('Image with src "'+v+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader')}else{let e=q;q=r=>{let{config:n,...o}=r;return e(o)}}if(k){"fill"===k&&(z=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}},r={responsive:"100vw",fill:"100vw"},n=e[k];n&&(I={...I,...n});let o=r[k];o&&!y&&(y=o)}let Y="",Z=m(L),K=m(C);if(f(v)){let e=u(v)?v.default:v;if(!e.src)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e));if(!e.height||!e.width)throw Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e));if(d=e.blurWidth,g=e.blurHeight,M=M||e.blurDataURL,Y=e.src,!z){if(Z||K){if(Z&&!K){let r=Z/e.width;K=Math.round(e.height*r)}else if(!Z&&K){let r=K/e.height;Z=Math.round(e.width*r)}}else Z=e.width,K=e.height}}let $=!S&&("lazy"===N||void 0===N);(!(v="string"==typeof v?v:Y)||v.startsWith("data:")||v.startsWith("blob:"))&&(E=!0,$=!1),n.unoptimized&&(E=!0),Q&&v.endsWith(".svg")&&!n.dangerouslyAllowSVG&&(E=!0),S&&(T="high");let ee=m(P),et=Object.assign(z?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:F,objectPosition:R}:{},H?{}:{color:"transparent"},I),er="blur"===B&&M&&!X?{backgroundSize:et.objectFit||"cover",backgroundPosition:et.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:'url("data:image/svg+xml;charset=utf-8,'+(0,o.getImageBlurSvg)({widthInt:Z,heightInt:K,blurWidth:d,blurHeight:g,blurDataURL:M,objectFit:et.objectFit})+'")'}:{},ei=h({config:n,src:v,unoptimized:E,width:Z,quality:ee,sizes:y,loader:q}),en={...W,loading:$?"lazy":N,fetchPriority:T,width:Z,height:K,decoding:"async",className:j,style:{...et,...er},sizes:ei.sizes,srcSet:ei.srcSet,src:ei.src},es={unoptimized:E,priority:S,placeholder:B,fill:z};return{props:en,meta:es}}},7757:function(e,r){"use strict";function n(e){let{widthInt:r,heightInt:n,blurWidth:o,blurHeight:l,blurDataURL:u,objectFit:d}=e,f=o&&l?"1":"20",m=o||r,g=l||n,h=u.startsWith("data:image/jpeg")?"%3CfeComponentTransfer%3E%3CfeFuncA type='discrete' tableValues='1 1'/%3E%3C/feComponentTransfer%3E%":"";if(m&&g)return"%3Csvg xmlns='http%3A//www.w3.org/2000/svg' viewBox='0 0 "+m+" "+g+"'%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='"+f+"'/%3E"+h+"%3C/filter%3E%3Cimage preserveAspectRatio='none' filter='url(%23b)' x='0' y='0' height='100%25' width='100%25' href='"+u+"'/%3E%3C/svg%3E";let v="contain"===d?"xMidYMid":"cover"===d?"xMidYMid slice":"none";return"%3Csvg xmlns='http%3A//www.w3.org/2000/svg'%3E%3Cimage style='filter:blur(20px)' preserveAspectRatio='"+v+"' x='0' y='0' height='100%25' width='100%25' href='"+u+"'/%3E%3C/svg%3E"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return n}})},2555:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{default:function(){return g},unstable_getImgProps:function(){return m}});let o=n(8754),l=n(5471),u=n(4210),d=n(8872),f=o._(n(7746)),m=e=>{(0,u.warnOnce)("Warning: unstable_getImgProps() is experimental and may change or be removed at any time. Use at your own risk.");let{props:r}=(0,l.getImgProps)(e,{defaultLoader:f.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(r))void 0===n&&delete r[e];return{props:r}},g=d.Image},7746:function(e,r){"use strict";function n(e){let{config:r,src:n,width:o,quality:l}=e;return r.path+"?url="+encodeURIComponent(n)+"&w="+o+"&q="+(l||75)}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}}),n.__next_img_default=!0;let o=n},6616:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7294),_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2384),_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4__),_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(3019),next_image__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5675),next_image__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_2__),loading_wait=0,all_log="",tern=0,user_log="",top_pred=0,need_ans_add=0,need_user_log_len=50,ending=0,mid_check=0;let max_tern=5,ChatApp=()=>{let[messages,setMessages]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[inputMessage,setInputMessage]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(""),scrollToBottom=()=>{var e=document.getElementById("message-list");e.scrollTop=e.scrollHeight},loading_on=()=>{document.getElementById("spin").style.visibility="visible"},loading_off=()=>{document.getElementById("spin").style.visibility="hidden"};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{scrollToBottom()},[messages]),(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{var e={text:"내가 너의 mbti를 맞춰볼게! 나랑 조금만 이야기하면 돼! 보다 정확한 결과를 위해 단답은 피해줘~",isUser:!1};setMessages([e]);var r=_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Xl[Math.floor(Math.random()*_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Xl.length)];e={text:r,isUser:!1},setMessages(r=>[...r,e]),all_log+="\nyou: "+r},[]);let handleSendMessage=async()=>{if(""!==inputMessage.trim()&&0==loading_wait){if(tern<max_tern){loading_wait=1;let newMessage={text:inputMessage,isUser:!0};setMessages(e=>[...e,newMessage]),user_log+=inputMessage+", ",setInputMessage("");var user_message="\nfriend: "+inputMessage+" \n\n### \nyou: ";1==need_ans_add&&(user_message+=_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Fv[Math.floor(Math.random()*_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Fv.length)],need_ans_add=0),all_log+=user_message;try{loading_on();let response=await fetch("".concat(_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.z0),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[all_log]})});if(!response.ok)throw Error("Network response was not ok");var data=await response.json();let bot_ans=data.data.toString();all_log+=bot_ans;let botResponseMessage={text:bot_ans,isUser:!1};setMessages(e=>[...e,botResponseMessage]),loading_wait=0}catch(error){console.error("Error sending message:",error),loading_wait=0}if(Math.random()>.7){var t=_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Xl[Math.floor(Math.random()*_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Xl.length)],initialBotMessage={text:t,isUser:!1};setMessages(e=>[...e,initialBotMessage]),all_log="\nyou: "+t,need_ans_add=1}}else if(tern==max_tern)try{loading_wait=1;let newMessage={text:inputMessage,isUser:!0};setMessages(e=>[...e,newMessage]),user_log+=inputMessage+", ",setInputMessage("");let user_message="\nfriend: "+inputMessage+" \n\n### \nyou: ";all_log+=user_message;try{loading_on();let response=await fetch("".concat(_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.z0),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[all_log]})});if(!response.ok)throw Error("Network response was not ok");var data=await response.json();let bot_ans=data.data.toString();all_log+=bot_ans;let botResponseMessage={text:bot_ans,isUser:!1};setMessages(e=>[...e,botResponseMessage])}catch(error){console.error("Error sending message:",error)}let response=await fetch("".concat(_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.z0,"_1"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[user_log]})});var data=await response.json();data=data.data,data=eval("("+data+")");let bot_ans=(0,_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Hf)(data[0].label);var botResponseMessage={text:"너의 mbti는 "+bot_ans+"구나!",isUser:!1};setMessages(e=>[...e,botResponseMessage]);let t="<<ai예측 확률>>\n"+(0,_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Hf)(data[0].label)+" : "+Math.round(1e3*data[0].score)/10+"%, "+(0,_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Hf)(data[1].label)+" : "+Math.round(1e3*data[1].score)/10+"%, "+(0,_public_styles_value_list__WEBPACK_IMPORTED_MODULE_3__.Hf)(data[2].label)+" : "+Math.round(1e3*data[2].score)/10+"%, ";var botResponseMessage2={text:t,isUser:!1};setMessages(e=>[...e,botResponseMessage2]),loading_wait=0}catch(error){console.error("Error sending message:",error),loading_wait=0}else{let bot_ans="...새로고침해주세요...",botResponseMessage={text:bot_ans,isUser:!1};setMessages(e=>[...e,botResponseMessage]),loading_wait=0}tern+=1,loading_off()}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default()["app-container"],children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default()["chat-app"],children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default()["chat-box"],children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default()["message-list"],id:"message-list",name:"message-list",children:messages.map((e,r)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(Message,{message:e},r))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default().spin,id:"spin",name:"spin",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("img",{src:"spin.gif",alt:"spinner"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default()["user-input-box"],children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",value:inputMessage,onChange:e=>setInputMessage(e.target.value),className:_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default()["input-font"]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{onClick:handleSendMessage,className:_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default()["button-font"],children:"Send"})," "]})]})})})},Message=e=>{let{message:r}=e,n=r.isUser?_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default()["user-message"]:_public_styles_Neumorphism_module_css__WEBPACK_IMPORTED_MODULE_4___default()["bot-message"];return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:n,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p",{children:r.text})})};__webpack_exports__.default=ChatApp},3019:function(e,r,n){"use strict";n.d(r,{Fv:function(){return u},Hf:function(){return d},Xl:function(){return l},z0:function(){return o}});let o="https://ldhldh-chat-and-bert-rest-api-with-gradio.hf.space/run/predict",l=["너는 취미가 뭐니?","주말엔 주로 뭐를 해?","가장 좋아하는 음식이 뭐야?","자주 듣는 노래 장르가 뭐야?","친구는 많은 편이니?","내일은 뭐 할거야?","혹시 지금 솔로야?","요즘 듣는 노래가 있을까?","요즘 드라마는 뭐 봐?","가장 최근에 본 영화는 어떤 내용이야?","요즘 고민같은거 있어?","나한테 물어보고 싶은거 있어?","만약 여행을 간다면 어디로 가고싶어?","오늘 하루는 어땠어?","너는 꿈이 뭐야?","가장 좋아하는 색이 뭐야?","봄, 여름, 가을, 겨울중에 어떤 계절이 제일 좋아?","이제 물어볼 주제도 없따.."],u=["아하","헐","아","아 진짜","음","그래?","엥","오","와","우와","와 정말","오 정말","아 정말","와 진짜","헐 진짜","키키","대박","그렇구나"];function d(e){return({LABEL_0:"INTJ",LABEL_1:"INTP",LABEL_2:"INFJ",LABEL_3:"INFP",LABEL_4:"ISTJ",LABEL_5:"ISTP",LABEL_6:"ISFJ",LABEL_7:"ISFP",LABEL_8:"ENTJ",LABEL_9:"ENTP",LABEL_10:"ENFJ",LABEL_11:"ENFP",LABEL_12:"ESTJ",LABEL_13:"ESTP",LABEL_14:"ESFJ",LABEL_15:"ESFP"})[e=e.toString()]}},2384:function(e){e.exports={body_:"Neumorphism_body___8326y","app-container":"Neumorphism_app-container__WdpyG","user-message":"Neumorphism_user-message__ZuKd7","bot-message":"Neumorphism_bot-message___QAsB","chat-app":"Neumorphism_chat-app__OTIdq","message-list":"Neumorphism_message-list__s66aZ","user-input-box":"Neumorphism_user-input-box__BlgNv",clearfix:"Neumorphism_clearfix__rMNQV",spin:"Neumorphism_spin__nBo_T"}},5675:function(e,r,n){n(2555)}},function(e){var r=function(r){return e(e.s=r)};e.O(0,[774,888,179],function(){return r(5557)}),_N_E=e.O()}]);